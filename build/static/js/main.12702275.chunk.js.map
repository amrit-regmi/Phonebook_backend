{"version":3,"sources":["Components/Filter.js","Components/NewPersonForm.js","Components/Person.js","Components/Persons.js","Services/phonebookService.js","Components/Notification.js","App.js","index.js"],"names":["Filter","filterPeople","onChange","NewPersonForm","nameInputChange","numberInputChange","newName","newNumber","addName","value","type","onClick","Person","person","deletePerson","name","number","Persons","persons","onDelete","map","p","key","id","baseUrl","axios","get","then","response","data","post","delete","put","Notification","notificatons","notification","className","message","App","useState","setPersons","setNewName","setNewNumber","filterText","setFilterText","notifications","setNotifications","useEffect","phonebookService","personData","filtered","filter","toLowerCase","includes","notify","Math","floor","random","setTimeout","event","target","preventDefault","duplicate","find","window","alert","confirm","updatedPerson","r","catch","err","error","concat","per","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12702275.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filterPeople}) =>{\r\n    return( \r\n        <div>\r\n            Filter shown with: <input onChange = {filterPeople}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nconst NewPersonForm = ({nameInputChange,numberInputChange,newName,newNumber,addName}) =>{\r\n    return(\r\n    <form>\r\n        <div>\r\n        name: <input onChange={nameInputChange} value = {newName}/>\r\n        </div>\r\n        <div>\r\n        number: <input onChange={numberInputChange} value = {newNumber}/>\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\" onClick={addName}  >add</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\nexport default NewPersonForm","import React from 'react'\r\n\r\nconst Person =({person,deletePerson}) => {\r\n    \r\n    return (\r\n        \r\n        <li >{person.name} {person.number} <button onClick={()=> deletePerson(person)}>Delete</button></li>\r\n    )\r\n}\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons =({persons,onDelete})=> {\r\n    return(    \r\n    <ul>  \r\n        {persons.map(p => \r\n        <Person key={p.id} person={p} deletePerson ={onDelete} ></Person>)\r\n         }         \r\n    </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl ='/api/persons'\r\n\r\n\r\nconst getPersons = () =>{\r\n    \r\n    return( axios.get(baseUrl).then(response => response.data))\r\n} \r\n\r\nconst createPerson = person =>{\r\n    return (axios.post(baseUrl,person).then(response=>response.data))\r\n}\r\n\r\nconst deletePerson = id =>{\r\n    return (axios.delete(`${baseUrl}/${id}`).then(response=>response.data))\r\n}\r\n\r\nconst updatePerson = person =>{\r\n    return (axios.put(`${baseUrl}/${person.id}`,person).then(response=>{\r\n        return response.data}))\r\n}\r\nexport default {getPersons,createPerson,deletePerson,updatePerson}","import React from 'react'\r\nconst Notification = ({notificatons}) =>{\r\n    if(notificatons ===null){\r\n      return null\r\n    }\r\n    return(\r\n      <div>\r\n        {notificatons.map(notification => <div key={notification.id} className={notification.type}>{notification.message}</div>)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './Components/Filter'\nimport NewPersonForm from './Components/NewPersonForm'\nimport Persons from './Components/Persons'\nimport phonebookService from './Services/phonebookService'\nimport './index.css'\nimport Notification from './Components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filterText,setFilterText] = useState('')\n  const [notifications,setNotifications] = useState([])\n\n  useEffect(()=>{\n    phonebookService.getPersons().then(personData=>setPersons(personData) )\n  },[])\n\n  const filtered = persons.filter(person=>person.name.toLowerCase().includes(filterText))\n\n  const notify = (type,message) =>{\n    const notification = {\n      id: Math.floor(Math.random()*1000),\n      type: type,\n      message: message\n    }\n    setNotifications([notification])\n    setTimeout(() => {\n      setNotifications(null)\n    }, 5000)\n  }\n  \n  const addName = (event) => {\n    event.preventDefault()\n\n    if(newName===\"\" || newNumber ===\"\"){\n      window.alert(\"Name and number must not be empty\")\n      return\n    }\n    \n    let duplicate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase() || person.number === newNumber)\n    \n    if (duplicate){\n      if (duplicate.number === newNumber && duplicate.name.toLowerCase() === newName.toLowerCase()){\n        window.alert(`${newName}: ${newNumber} already exists on phonebook`)\n        return\n      }\n        \n      if (duplicate.name.toLowerCase()=== newName.toLowerCase()){\n        if(window.confirm(`${newName} is already added to phonebook, replace old number with new one? ` )){\n            const updatedPerson = { ...duplicate, number: newNumber}\n            phonebookService.updatePerson(updatedPerson).then(r => {\n              setPersons(persons.map(p => p.id !== updatedPerson.id ? p : r))\n              \n            }).then(()=>{\n              setNewName('') \n              setNewNumber('')\n              notify('success',`Replaced old number for ${newName} with ${newNumber}`)\n            }).catch(err=>{\n              const response = err.response.data\n              notify('error',response.error)\n            })\n          }\n        return\n      } \n        \n      if(duplicate.number === newNumber){\n        if(window.confirm(`${newNumber} already exists on phonebook for ${newName} , replace old name with new one? ` )){\n          const updatedPerson = { ...duplicate, name: newName}\n          phonebookService.updatePerson(updatedPerson).then(r => {\n            setPersons(persons.map(p => p.id !== updatedPerson.id ? p : r))\n            \n          }).then(()=>{\n            setNewName('') \n            setNewNumber('')\n            notify('success',`Replaced contact name for ${newNumber} with ${newName}`)\n          \n          }).catch(err=>{\n            const response = err.response.data\n            notify('error',response.error)\n          })\n\n        }\n      return\n      }\n\n    } \n    else{\n      const newPerson = {name: newName,number: newNumber}\n      phonebookService.createPerson(newPerson).then(p=>setPersons(persons.concat(p))).then(p=>{\n        setNewName('') \n        setNewNumber('') \n        }).then(()=>{\n            notify('success',`Added contact ${newName}`)\n        }\n          \n          ).catch(err=>{\n            const response = err.response.data\n            notify('error',response.error)\n          })\n    }\n  }\n\n\n  const deletePerson = (person) =>{\n    if (window.confirm(`Delete ${person.name}?`)){\n      phonebookService.deletePerson(person.id).then(p=>{\n        setPersons(persons.filter(per=> per.id !== person.id))\n      }).catch(error =>{ \n        const message =`Information on ${person.name} has already been removed from server`\n        notify('error',message)\n        setPersons(persons.filter(per=> per.id !== person.id))\n      })\n    }\n\n  }\n\n  const nameInputChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberInputChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const filterPeople=(event)=>{\n    setFilterText(event.target.value.toLowerCase())\n  }\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notificatons ={notifications}></Notification>\n      <Filter filterPeople={filterPeople}></Filter>\n      <NewPersonForm\n          nameInputChange ={nameInputChange}\n          newName={newName}\n          numberInputChange={numberInputChange}\n          newNumber={newNumber}\n          addName={addName}\n          > \n      </NewPersonForm>\n      <h2>Numbers</h2>\n      <Persons persons={filtered} onDelete={deletePerson}></Persons> \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}